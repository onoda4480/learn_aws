# データベース

## Amazon SQS のキューの種類

| 項目 | Standard キュー | FIFO キュー |
|------|----------------|-------------|
| 順序 | **保証なし** | **保証あり** |
| 重複 | **あり得る** | **なし** |
| スループット | **ほぼ無制限** | 秒間300件 |
| 料金 | 安い | やや高い |

### 選び方

```
順番どうでもいい、大量処理 → Standard
順番重要、重複NG         → FIFO
```

### FIFO キューの命名規則

```
キュー名の末尾に「.fifo」が必須
例：order-queue.fifo
```

---

## Aurora クローン

既存のデータベースを**高速・低コスト**でコピーする機能

### 仕組み（Copy-on-Write）

```
クローン作成時：元データを共有（一瞬で完了）
書き込み時：変更分だけ新しく保存
```

### スナップショットとの違い

| 項目 | クローン | スナップショット |
|------|---------|-----------------|
| 作成速度 | 数分 | データ量に依存 |
| 容量 | 差分のみ | 全データ |
| 用途 | 検証・開発環境 | バックアップ・DR |
| 別リージョン | 不可 | 可能 |

### 試験ポイント

```
「本番データでテスト」「高速にコピー」→ Aurora クローン
「別リージョンに復元」「災害復旧」→ スナップショット
```

---

## AWS DMS（Database Migration Service）

データベースを**移行**するためのサービス

### 特徴

| 項目 | 内容 |
|------|------|
| ダウンタイム | **最小限**（稼働中に移行可能） |
| 異種DB間 | **対応**（Oracle → PostgreSQL など） |

### SCT（Schema Conversion Tool）

異種DB間で**スキーマを変換**するツール

### 試験ポイント

```
「データベース移行」「異種DB間」「ダウンタイム最小」→ DMS
「スキーマ変換」→ SCT + DMS
```
