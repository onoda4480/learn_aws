# 試験問題

## 問題1：TCP通信 + NoSQL

### シナリオ
- Auto Scalingグループ内のEC2
- TCP通信でサーバーに接続
- NoSQLデータベースに保存
- 高可用性・スケーラブル

### 正解
**NLB + DynamoDB**

### 判定ポイント

```
TCP通信 → NLB（L4、TCP対応）
NoSQL → DynamoDB
```

---

## 問題2：NATインスタンスの帯域限界

### シナリオ
- NATインスタンスの帯域が限界
- 高可用性・耐障害性
- 運用負荷を最小限

### 正解
**既存のNATインスタンスを廃止し、異なるAZにそれぞれNATゲートウェイを配置**

### 判定ポイント

```
「運用負荷を下げたい」→ NATゲートウェイ（マネージド）
「高可用性」→ 異なるAZに配置
```

---

## 問題3：SMBファイル共有 + SQL分析

### シナリオ
- CSVファイルをSMBファイル共有に保存
- SMB環境を維持しながらAWSに移行
- SQLでアクセス
- コスト効率

### 正解（3つ選択）
1. **S3ファイルゲートウェイ**でStorage Gatewayをデプロイ
2. **Glueクローラー**でデータカタログを作成
3. **Athena**でSQLクエリを実行

### 構成図

```
オンプレ（SMB）→ File Gateway → S3 → Glue → Athena（SQL）
```

### 不正解の理由

| 選択肢 | 理由 |
|--------|------|
| ボリュームゲートウェイ | ブロックストレージ用、SMBには不向き |
| Kinesis Data Streams | リアルタイムストリーミング用 |
| RDS マルチAZ | 過剰構成、コスト高い |
